import{r as a,n as ce,l as He,A as Be,D as gt,E as ht,G as Fe,H as ft,P as pt,I as vt,J as bt,K as St,R as b,L as yt,N as Ct,B as we,O as Ke,Q as je,h as xt,m as $t,i as wt,u as K,U as De,V as It,C as Et,W as Me,X as kt,Y as Tt,Z as re,$ as Lt,a0 as At,o as Ne,q as ue}from"./index-17a7ae96.js";const me=e=>{const t=new Map;return e.forEach((o,n)=>{t.set(o,n)}),t},Ot=e=>{const t=new Map;return e.forEach((o,n)=>{let{disabled:s,key:r}=o;s&&t.set(r,n)}),t},Rt=(e,t,o)=>{const n=a.useMemo(()=>(e||[]).map(i=>t?Object.assign(Object.assign({},i),{key:t(i)}):i),[e,t]),[s,r]=a.useMemo(()=>{const i=[],h=new Array((o||[]).length),d=me(o||[]);return n.forEach(g=>{d.has(g.key)?h[d.get(g.key)]=g:i.push(g)}),[i,h]},[n,o,t]);return[n,s,r]},Kt=Rt,jt=[];function ne(e,t){const o=e.filter(n=>t.has(n));return e.length===o.length?e:o}function ze(e){return Array.from(e).join(";")}function Dt(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt;const[n,s]=a.useMemo(()=>[new Set(e.map(g=>g.key)),new Set(t.map(g=>g.key))],[e,t]),[r,i]=a.useState(()=>ne(o,n)),[h,d]=a.useState(()=>ne(o,s));return a.useEffect(()=>{i(ne(o,n)),d(ne(o,s))},[o]),a.useEffect(()=>{i(ne(r,n)),d(ne(h,s))},[ze(n),ze(s)]),[r,h,i,d]}const Mt=e=>{const{renderedText:t,renderedEl:o,item:n,checked:s,disabled:r,prefixCls:i,onClick:h,onRemove:d,showRemove:g}=e,S=ce("".concat(i,"-content-item"),{["".concat(i,"-content-item-disabled")]:r||n.disabled,["".concat(i,"-content-item-checked")]:s});let y;(typeof t=="string"||typeof t=="number")&&(y=String(t));const[L]=He("Transfer",Be.Transfer),C={className:S,title:y},I=a.createElement("span",{className:"".concat(i,"-content-item-text")},o);return g?a.createElement("li",Object.assign({},C),I,a.createElement(gt,{disabled:r||n.disabled,className:"".concat(i,"-content-item-remove"),"aria-label":L==null?void 0:L.remove,onClick:()=>{d==null||d(n)}},a.createElement(ht,null))):(C.onClick=r||n.disabled?void 0:F=>h(n,F),a.createElement("li",Object.assign({},C),a.createElement(Fe,{className:"".concat(i,"-checkbox"),checked:s,disabled:r||n.disabled}),I))},Nt=a.memo(Mt),zt=["handleFilter","handleClear","checkedKeys"],Pt=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),Ht=(e,t)=>{const{prefixCls:o,filteredRenderItems:n,selectedKeys:s,disabled:r,showRemove:i,pagination:h,onScroll:d,onItemSelect:g,onItemRemove:S}=e,[y,L]=a.useState(1),C=a.useMemo(()=>h?Pt(typeof h=="object"?h:{}):null,[h]),[I,F]=ft(10,{value:C==null?void 0:C.pageSize});a.useEffect(()=>{if(C){const x=Math.ceil(n.length/I);L(Math.min(y,x))}},[n,C,I]);const W=(x,w)=>{g(x.key,!s.includes(x.key),w)},M=x=>{S==null||S([x.key])},H=x=>{L(x)},B=(x,w)=>{L(x),F(w)},N=a.useMemo(()=>C?n.slice((y-1)*I,y*I):n,[y,n,C,I]);a.useImperativeHandle(t,()=>({items:N}));const G=C?a.createElement(pt,{size:"small",disabled:r,simple:C.simple,pageSize:I,showLessItems:C.showLessItems,showSizeChanger:C.showSizeChanger,className:"".concat(o,"-pagination"),total:n.length,current:y,onChange:H,onShowSizeChange:B}):null,j=ce("".concat(o,"-content"),{["".concat(o,"-content-show-remove")]:i});return a.createElement(a.Fragment,null,a.createElement("ul",{className:j,onScroll:d},(N||[]).map(x=>{let{renderedEl:w,renderedText:_,item:p}=x;return a.createElement(Nt,{key:p.key,item:p,renderedText:_,renderedEl:w,prefixCls:o,showRemove:i,onClick:W,onRemove:M,checked:s.includes(p.key),disabled:r||p.disabled})})),G)},Bt=a.forwardRef(Ht),Ft=e=>{const{placeholder:t="",value:o,prefixCls:n,disabled:s,onChange:r,handleClear:i}=e,h=a.useCallback(d=>{r==null||r(d),d.target.value===""&&(i==null||i())},[r]);return a.createElement(vt,{placeholder:t,className:n,value:o,onChange:h,disabled:s,allowClear:!0,prefix:a.createElement(bt,null)})},We=Ft,Wt=()=>null;function Xt(e){return!!(e&&!b.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function ie(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Gt=e=>e!==void 0,_t=e=>{const{prefixCls:t,dataSource:o=[],titleText:n="",checkedKeys:s,disabled:r,showSearch:i=!1,style:h,searchPlaceholder:d,notFoundContent:g,selectAll:S,deselectAll:y,selectCurrent:L,selectInvert:C,removeAll:I,removeCurrent:F,showSelectAll:W=!0,showRemove:M,pagination:H,direction:B,itemsUnit:N,itemUnit:G,selectAllLabel:j,selectionsIcon:x,footer:w,renderList:_,onItemSelectAll:p,onItemRemove:A,handleFilter:E,handleClear:V,filterOption:de,render:le=Wt}=e,[z,D]=a.useState(""),k=a.useRef({}),he=c=>{D(c.target.value),E(c)},fe=()=>{D(""),V()},pe=(c,m)=>de?de(z,m,B):c.includes(z),ve=c=>{let m=_?_(Object.assign(Object.assign({},c),{onItemSelect:(T,X)=>c.onItemSelect(T,X)})):null;const v=!!m;return v||(m=b.createElement(Bt,Object.assign({ref:k},c))),{customize:v,bodyContent:m}},oe=c=>{const m=le(c),v=Xt(m);return{item:c,renderedEl:v?m.label:m,renderedText:v?m.value:m}},Q=a.useMemo(()=>Array.isArray(g)?g[B==="left"?0:1]:g,[g,B]),[$,P]=a.useMemo(()=>{const c=[],m=[];return o.forEach(v=>{const T=oe(v);z&&!pe(T.renderedText,v)||(c.push(v),m.push(T))}),[c,m]},[o,z]),Z=a.useMemo(()=>{if(s.length===0)return"none";const c=me(s);return $.every(m=>c.has(m.key)||!!m.disabled)?"all":"part"},[s,$]),be=a.useMemo(()=>{const c=i?b.createElement("div",{className:"".concat(t,"-body-search-wrapper")},b.createElement(We,{prefixCls:"".concat(t,"-search"),onChange:he,handleClear:fe,placeholder:d,value:z,disabled:r})):null,{customize:m,bodyContent:v}=ve(Object.assign(Object.assign({},St(e,zt)),{filteredItems:$,filteredRenderItems:P,selectedKeys:s}));let T;return m?T=b.createElement("div",{className:"".concat(t,"-body-customize-wrapper")},v):T=$.length?v:b.createElement("div",{className:"".concat(t,"-body-not-found")},Q),b.createElement("div",{className:ce(i?"".concat(t,"-body ").concat(t,"-body-with-search"):"".concat(t,"-body"))},c,T)},[i,t,d,z,r,s,$,P,Q]),Se=b.createElement(Fe,{disabled:o.length===0||r,checked:Z==="all",indeterminate:Z==="part",className:"".concat(t,"-checkbox"),onChange:()=>{p==null||p($.filter(c=>!c.disabled).map(c=>{let{key:m}=c;return m}),Z!=="all")}}),ye=(c,m)=>{if(j)return typeof j=="function"?j({selectedCount:c,totalCount:m}):j;const v=m>1?N:G;return b.createElement(b.Fragment,null,(c>0?"".concat(c,"/"):"")+m," ",v)},se=w&&(w.length<2?w(e):w(e,{direction:B})),Ce=ce(t,{["".concat(t,"-with-pagination")]:!!H,["".concat(t,"-with-footer")]:!!se}),ee=se?b.createElement("div",{className:"".concat(t,"-footer")},se):null,q=!M&&!H&&Se;let J;M?J=[H?{key:"removeCurrent",label:F,onClick(){var c;const m=ie((((c=k.current)===null||c===void 0?void 0:c.items)||[]).map(v=>v.item));A==null||A(m)}}:null,{key:"removeAll",label:I,onClick(){A==null||A(ie($))}}].filter(Boolean):J=[{key:"selectAll",label:Z==="all"?y:S,onClick(){const c=ie($);p==null||p(c,c.length!==s.length)}},H?{key:"selectCurrent",label:L,onClick(){var c;const m=((c=k.current)===null||c===void 0?void 0:c.items)||[];p==null||p(ie(m.map(v=>v.item)),!0)}}:null,{key:"selectInvert",label:C,onClick(){var c;const m=ie((((c=k.current)===null||c===void 0?void 0:c.items)||[]).map(X=>X.item)),v=new Set(s),T=new Set(v);m.forEach(X=>{v.has(X)?T.delete(X):T.add(X)}),p==null||p(Array.from(T),"replace")}}];const xe=b.createElement(yt,{className:"".concat(t,"-header-dropdown"),menu:{items:J},disabled:r},Gt(x)?x:b.createElement(Ct,null));return b.createElement("div",{className:Ce,style:h},b.createElement("div",{className:"".concat(t,"-header")},W?b.createElement(b.Fragment,null,q,xe):null,b.createElement("span",{className:"".concat(t,"-header-selected")},ye(s.length,$.length)),b.createElement("span",{className:"".concat(t,"-header-title")},n)),be,ee)},Ie=_t,Vt=e=>{const{disabled:t,moveToLeft:o,moveToRight:n,leftArrowText:s="",rightArrowText:r="",leftActive:i,rightActive:h,className:d,style:g,direction:S,oneWay:y}=e;return a.createElement("div",{className:d,style:g},a.createElement(we,{type:"primary",size:"small",disabled:t||!h,onClick:n,icon:S!=="rtl"?a.createElement(Ke,null):a.createElement(je,null)},r),!y&&a.createElement(we,{type:"primary",size:"small",disabled:t||!i,onClick:o,icon:S!=="rtl"?a.createElement(je,null):a.createElement(Ke,null)},s))},Xe=Vt,Ut=e=>{const{antCls:t,componentCls:o,listHeight:n,controlHeightLG:s}=e,r="".concat(t,"-table"),i="".concat(t,"-input");return{["".concat(o,"-customize-list")]:{["".concat(o,"-list")]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:n},["".concat(r,"-wrapper")]:{["".concat(r,"-small")]:{border:0,borderRadius:0,["".concat(r,"-selection-column")]:{width:s,minWidth:s}},["".concat(r,"-pagination").concat(r,"-pagination")]:{margin:0,padding:e.paddingXS}},["".concat(i,"[disabled]")]:{backgroundColor:"transparent"}}}},Pe=(e,t)=>{const{componentCls:o,colorBorder:n}=e;return{["".concat(o,"-list")]:{borderColor:t,"&-search:not([disabled])":{borderColor:n}}}},Yt=e=>{const{componentCls:t}=e;return{["".concat(t,"-status-error")]:Object.assign({},Pe(e,e.colorError)),["".concat(t,"-status-warning")]:Object.assign({},Pe(e,e.colorWarning))}},qt=e=>{const{componentCls:t,colorBorder:o,colorSplit:n,lineWidth:s,itemHeight:r,headerHeight:i,transferHeaderVerticalPadding:h,itemPaddingBlock:d,controlItemBgActive:g,colorTextDisabled:S,listHeight:y,listWidth:L,listWidthLG:C,fontSizeIcon:I,marginXS:F,paddingSM:W,lineType:M,antCls:H,iconCls:B,motionDurationSlow:N,controlItemBgHover:G,borderRadiusLG:j,colorBgContainer:x,colorText:w,controlItemBgActiveHover:_}=e;return{display:"flex",flexDirection:"column",width:L,height:y,border:"".concat(K(s)," ").concat(M," ").concat(o),borderRadius:e.borderRadiusLG,"&-with-pagination":{width:C,height:"auto"},"&-search":{["".concat(B,"-search")]:{color:S}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:i,padding:"".concat(K(e.calc(h).sub(s).equal())," ").concat(K(W)," ").concat(K(h)),color:w,background:x,borderBottom:"".concat(K(s)," ").concat(M," ").concat(n),borderRadius:"".concat(K(j)," ").concat(K(j)," 0 0"),"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},De),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},It()),{fontSize:I,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:W}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none","&-item":{display:"flex",alignItems:"center",minHeight:r,padding:"".concat(K(d)," ").concat(K(W)),transition:"all ".concat(N),"> *:not(:last-child)":{marginInlineEnd:F},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},De),{flex:"auto"}),"&-remove":{position:"relative",color:o,cursor:"pointer",transition:"all ".concat(N),"&:hover":{color:e.colorLinkHover},"&::after":{position:"absolute",inset:"-".concat(K(d)," -50%"),content:'""'}},["&:not(".concat(t,"-list-content-item-disabled)")]:{"&:hover":{backgroundColor:G,cursor:"pointer"},["&".concat(t,"-list-content-item-checked:hover")]:{backgroundColor:_}},"&-checked":{backgroundColor:g},"&-disabled":{color:S,cursor:"not-allowed"}},["&-show-remove ".concat(t,"-list-content-item:not(").concat(t,"-list-content-item-disabled):hover")]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:"".concat(K(s)," ").concat(M," ").concat(n),["".concat(H,"-pagination-options")]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:S,textAlign:"center"},"&-footer":{borderTop:"".concat(K(s)," ").concat(M," ").concat(n)},"&-checkbox":{lineHeight:1}}},Jt=e=>{const{antCls:t,iconCls:o,componentCls:n,marginXS:s,marginXXS:r,fontSizeIcon:i,colorBgContainerDisabled:h}=e;return{[n]:Object.assign(Object.assign({},wt(e)),{position:"relative",display:"flex",alignItems:"stretch",["".concat(n,"-disabled")]:{["".concat(n,"-list")]:{background:h}},["".concat(n,"-list")]:qt(e),["".concat(n,"-operation")]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:"0 ".concat(K(s)),verticalAlign:"middle",gap:r,["".concat(t,"-btn ").concat(o)]:{fontSize:i}}})}},Qt=e=>{const{componentCls:t}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"}}},Zt=e=>{const{fontSize:t,lineHeight:o,controlHeight:n,controlHeightLG:s,lineWidth:r}=e,i=Math.round(t*o);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:s,itemHeight:n,itemPaddingBlock:(n-i)/2,transferHeaderVerticalPadding:Math.ceil((s-r-i)/2)}},en=xt("Transfer",e=>{const t=$t(e);return[Jt(t),Ut(t),Yt(t),Qt(t)]},Zt),ge=e=>{const{dataSource:t,targetKeys:o=[],selectedKeys:n,selectAllLabels:s=[],operations:r=[],style:i={},listStyle:h={},locale:d={},titles:g,disabled:S,showSearch:y=!1,operationStyle:L,showSelectAll:C,oneWay:I,pagination:F,status:W,prefixCls:M,className:H,rootClassName:B,selectionsIcon:N,filterOption:G,render:j,footer:x,children:w,rowKey:_,onScroll:p,onChange:A,onSearch:E,onSelectChange:V}=e,{getPrefixCls:de,renderEmpty:le,direction:z,transfer:D}=a.useContext(Et),k=de("transfer",M),[he,fe,pe]=en(k),[ve,oe,Q]=Kt(t,_,o),[$,P,Z,be]=Dt(oe,Q,n),[Se,ye]=Me(l=>l.key),[se,Ce]=Me(l=>l.key),ee=a.useCallback((l,u)=>{if(l==="left"){const f=typeof u=="function"?u($||[]):u;Z(f)}else{const f=typeof u=="function"?u(P||[]):u;be(f)}},[$,P]),q=(l,u)=>{(l==="left"?ye:Ce)(u)},J=a.useCallback((l,u)=>{l==="left"?V==null||V(u,P):V==null||V($,u)},[$,P]),xe=l=>{var u;return(u=g!=null?g:l.titles)!==null&&u!==void 0?u:[]},c=l=>{p==null||p("left",l)},m=l=>{p==null||p("right",l)},v=l=>{const u=l==="right"?$:P,f=Ot(ve),O=u.filter(te=>!f.has(te)),R=me(O),U=l==="right"?O.concat(o):o.filter(te=>!R.has(te)),Y=l==="right"?"left":"right";ee(Y,[]),J(Y,[]),A==null||A(U,l,O)},T=()=>{v("left"),q("left",null)},X=()=>{v("right"),q("right",null)},Ee=(l,u,f)=>{ee(l,O=>{let R=[];if(f==="replace")R=u;else if(f)R=Array.from(new Set([].concat(re(O),re(u))));else{const U=me(u);R=O.filter(Y=>!U.has(Y))}return J(l,R),R}),q(l,null)},Ge=(l,u)=>{Ee("left",l,u)},_e=(l,u)=>{Ee("right",l,u)},Ve=l=>E==null?void 0:E("left",l.target.value),Ue=l=>E==null?void 0:E("right",l.target.value),Ye=()=>E==null?void 0:E("left",""),qe=()=>E==null?void 0:E("right",""),Je=(l,u,f,O,R)=>{u.has(f)&&(u.delete(f),q(l,null)),O&&(u.add(f),q(l,R))},Qe=(l,u,f,O)=>{(l==="left"?Se:se)(O,u,f)},ke=(l,u,f,O)=>{const R=l==="left",U=re(R?$:P),Y=new Set(U),te=re(R?oe:Q).filter(ae=>!(ae!=null&&ae.disabled)),Oe=te.findIndex(ae=>ae.key===u);O&&U.length>0?Qe(l,te,Y,Oe):Je(l,Y,u,f,Oe);const Re=Array.from(Y);J(l,Re),e.selectedKeys||ee(l,Re)},Ze=(l,u,f)=>{ke("left",l,u,f==null?void 0:f.shiftKey)},et=(l,u,f)=>{ke("right",l,u,f==null?void 0:f.shiftKey)},tt=l=>{ee("right",[]),A==null||A(o.filter(u=>!l.includes(u)),"left",re(l))},Te=l=>typeof h=="function"?h({direction:l}):h||{},nt=a.useContext(kt),{hasFeedback:lt,status:ot}=nt,st=l=>Object.assign(Object.assign(Object.assign({},l),{notFoundContent:(le==null?void 0:le("Transfer"))||b.createElement(Lt,{componentName:"Transfer"})}),d),at=At(ot,W),Le=!w&&F,rt=P.length>0,it=$.length>0,ct=ce(k,{["".concat(k,"-disabled")]:S,["".concat(k,"-customize-list")]:!!w,["".concat(k,"-rtl")]:z==="rtl"},Tt(k,at,lt),D==null?void 0:D.className,H,B,fe,pe),[dt]=He("Transfer",Be.Transfer),$e=st(dt),[ut,mt]=xe($e),Ae=N!=null?N:D==null?void 0:D.selectionsIcon;return he(b.createElement("div",{className:ct,style:Object.assign(Object.assign({},D==null?void 0:D.style),i)},b.createElement(Ie,Object.assign({prefixCls:"".concat(k,"-list"),titleText:ut,dataSource:oe,filterOption:G,style:Te("left"),checkedKeys:$,handleFilter:Ve,handleClear:Ye,onItemSelect:Ze,onItemSelectAll:Ge,render:j,showSearch:y,renderList:w,footer:x,onScroll:c,disabled:S,direction:z==="rtl"?"right":"left",showSelectAll:C,selectAllLabel:s[0],pagination:Le,selectionsIcon:Ae},$e)),b.createElement(Xe,{className:"".concat(k,"-operation"),rightActive:it,rightArrowText:r[0],moveToRight:X,leftActive:rt,leftArrowText:r[1],moveToLeft:T,style:L,disabled:S,direction:z,oneWay:I}),b.createElement(Ie,Object.assign({prefixCls:"".concat(k,"-list"),titleText:mt,dataSource:Q,filterOption:G,style:Te("right"),checkedKeys:P,handleFilter:Ue,handleClear:qe,onItemSelect:et,onItemSelectAll:_e,onItemRemove:tt,render:j,showSearch:y,renderList:w,footer:x,onScroll:m,disabled:S,direction:z==="rtl"?"left":"right",showSelectAll:C,selectAllLabel:s[1],showRemove:I,pagination:Le,selectionsIcon:Ae},$e))))};ge.List=Ie;ge.Search=We;ge.Operation=Xe;const tn=ge,ln=e=>{let t=Ne(d=>d.counter.isshow1),o=Ne(d=>d.counter.isshow2);const[n,s]=a.useState([]),r=()=>{var g,S;const d=[];(g=e.mockData)==null||g.map(y=>{y.key=y.symbol}),(S=e.mockData2)==null||S.map(y=>{d.push(y)}),s(d)};a.useEffect(()=>{r(),console.log(n)},[e.mockData]);const i=d=>{s(d)},h=(d,g)=>g.symbol.indexOf(d==null?void 0:d.toUpperCase())>-1;return ue.jsxs("div",{style:{border:"1px solid #EAEAEA",padding:20,paddingTop:0,marginLeft:e.ml},children:[ue.jsxs("div",{style:{padding:"10px 0px",display:"flex",justifyContent:"space-between"},children:[e.title,ue.jsx(we,{size:"small",onClick:()=>e.update(n),children:"提交"})]}),ue.jsx(tn,{dataSource:e.mockData,showSearch:!0,filterOption:h,rowKey:d=>d.symbol,listStyle:{width:t?"calc(25vw - 70px)":"calc(25vw - 55px)",height:o?"calc(100vh - 284px)":"calc(100vh - 224px)"},targetKeys:n,onChange:i,render:d=>d.symbol})]})};export{ln as default};
