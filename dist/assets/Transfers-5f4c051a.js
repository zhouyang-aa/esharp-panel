import{r as s,c as ne,b as Re,o as Ke,p as Ze,D as et,q as je,s as tt,P as nt,I as lt,t as ot,w as st,R as v,x as at,y as rt,z as it,B as xe,A as Ie,L as ke,g as ct,m as dt,a as mt,E as Te,G as ut,C as ht,H as gt,J as ft,_ as ae,K as pt,N as vt,e as Le,j as re}from"./index-03cf3476.js";const ie=e=>{const t=new Map;return e.forEach((l,n)=>{t.set(l,n)}),t},bt=e=>{const t=new Map;return e.forEach((l,n)=>{let{disabled:o,key:c}=l;o&&t.set(c,n)}),t};function yt(e,t,l){const n=s.useMemo(()=>(e||[]).map(a=>(t&&(a=Object.assign(Object.assign({},a),{key:t(a)})),a)),[e,t]),[o,c]=s.useMemo(()=>{const a=[],m=new Array((l||[]).length),r=ie(l||[]);return n.forEach(u=>{r.has(u.key)?m[r.get(u.key)]=u:a.push(u)}),[a,m]},[n,l,t]);return[n,o,c]}const St=[];function V(e,t){const l=e.filter(n=>t.has(n));return e.length===l.length?e:l}function Ae(e){return Array.from(e).join(";")}function xt(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St;const[n,o]=s.useMemo(()=>[new Set(e.map(u=>u.key)),new Set(t.map(u=>u.key))],[e,t]),[c,a]=s.useState(()=>V(l,n)),[m,r]=s.useState(()=>V(l,o));return s.useEffect(()=>{a(V(l,n)),r(V(l,o))},[l]),s.useEffect(()=>{a(V(c,n)),r(V(m,o))},[Ae(n),Ae(o)]),[c,m,a,r]}const Ct=e=>{const{renderedText:t,renderedEl:l,item:n,checked:o,disabled:c,prefixCls:a,onClick:m,onRemove:r,showRemove:u}=e,f=ne("".concat(a,"-content-item"),{["".concat(a,"-content-item-disabled")]:c||n.disabled,["".concat(a,"-content-item-checked")]:o});let b;(typeof t=="string"||typeof t=="number")&&(b=String(t));const[k]=Re("Transfer",Ke.Transfer),y={className:f,title:b},w=s.createElement("span",{className:"".concat(a,"-content-item-text")},l);return u?s.createElement("li",Object.assign({},y),w,s.createElement(Ze,{disabled:c||n.disabled,className:"".concat(a,"-content-item-remove"),"aria-label":k==null?void 0:k.remove,onClick:()=>{r==null||r(n)}},s.createElement(et,null))):(y.onClick=c||n.disabled?void 0:()=>m(n),s.createElement("li",Object.assign({},y),s.createElement(je,{className:"".concat(a,"-checkbox"),checked:o,disabled:c||n.disabled}),w))},$t=s.memo(Ct),wt=["handleFilter","handleClear","checkedKeys"],Et=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),It=(e,t)=>{const{prefixCls:l,filteredRenderItems:n,selectedKeys:o,disabled:c,showRemove:a,pagination:m,onScroll:r,onItemSelect:u,onItemRemove:f}=e,[b,k]=s.useState(1),y=s.useMemo(()=>m?Et(typeof m=="object"?m:{}):null,[m]),[w,G]=tt(10,{value:y==null?void 0:y.pageSize});s.useEffect(()=>{if(y){const p=Math.ceil(n.length/w);k(Math.min(b,p))}},[n,y,w]);const H=p=>{u==null||u(p.key,!o.includes(p.key))},E=p=>{f==null||f([p.key])},N=p=>{k(p)},X=(p,T)=>{k(p),G(T)},z=s.useMemo(()=>y?n.slice((b-1)*w,b*w):n,[b,n,y,w]);s.useImperativeHandle(t,()=>({items:z}));const A=y?s.createElement(nt,{size:"small",disabled:c,simple:y.simple,pageSize:w,showLessItems:y.showLessItems,showSizeChanger:y.showSizeChanger,className:"".concat(l,"-pagination"),total:n.length,current:b,onChange:N,onShowSizeChange:X}):null,M=ne("".concat(l,"-content"),{["".concat(l,"-content-show-remove")]:a});return s.createElement(s.Fragment,null,s.createElement("ul",{className:M,onScroll:r},(z||[]).map(p=>{let{renderedEl:T,renderedText:C,item:$}=p;return s.createElement($t,{key:$.key,item:$,renderedText:C,renderedEl:T,prefixCls:l,showRemove:a,onClick:H,onRemove:E,checked:o.includes($.key),disabled:c||$.disabled})})),A)},kt=s.forwardRef(It),Tt=e=>{const{placeholder:t="",value:l,prefixCls:n,disabled:o,onChange:c,handleClear:a}=e,m=s.useCallback(r=>{c==null||c(r),r.target.value===""&&(a==null||a())},[c]);return s.createElement(lt,{placeholder:t,className:n,value:l,onChange:m,disabled:o,allowClear:!0,prefix:s.createElement(ot,null)})},He=Tt,Lt=()=>null;function At(e){return!!(e&&!it(e)&&Object.prototype.toString.call(e)==="[object Object]")}function te(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Ot=e=>e!==void 0,Rt=e=>{const{prefixCls:t,dataSource:l=[],titleText:n="",checkedKeys:o,disabled:c,showSearch:a=!1,style:m,searchPlaceholder:r,notFoundContent:u,selectAll:f,selectCurrent:b,selectInvert:k,removeAll:y,removeCurrent:w,showSelectAll:G=!0,showRemove:H,pagination:E,direction:N,itemsUnit:X,itemUnit:z,selectAllLabel:A,selectionsIcon:M,footer:p,renderList:T,onItemSelectAll:C,onItemRemove:$,handleFilter:W,handleClear:I,filterOption:F,render:de=Lt}=e,[D,_]=s.useState(""),O=s.useRef({}),R=i=>{_(i.target.value),W(i)},me=()=>{_(""),I()},ue=(i,h)=>F?F(D,h,N):i.includes(D),he=i=>{let h=T?T(i):null;const S=!!h;return S||(h=v.createElement(kt,Object.assign({ref:O},i))),{customize:S,bodyContent:h}},le=i=>{const h=de(i),S=At(h);return{item:i,renderedEl:S?h.label:h,renderedText:S?h.value:h}},q=s.useMemo(()=>Array.isArray(u)?u[N==="left"?0:1]:u,[u,N]),[x,K]=s.useMemo(()=>{const i=[],h=[];return l.forEach(S=>{const j=le(S);D&&!ue(j.renderedText,S)||(i.push(S),h.push(j))}),[i,h]},[l,D]),J=s.useMemo(()=>{if(o.length===0)return"none";const i=ie(o);return x.every(h=>i.has(h.key)||!!h.disabled)?"all":"part"},[o,x]),ge=s.useMemo(()=>{const i=a?v.createElement("div",{className:"".concat(t,"-body-search-wrapper")},v.createElement(He,{prefixCls:"".concat(t,"-search"),onChange:R,handleClear:me,placeholder:r,value:D,disabled:c})):null,{customize:h,bodyContent:S}=he(Object.assign(Object.assign({},st(e,wt)),{filteredItems:x,filteredRenderItems:K,selectedKeys:o}));let j;return h?j=v.createElement("div",{className:"".concat(t,"-body-customize-wrapper")},S):j=x.length?S:v.createElement("div",{className:"".concat(t,"-body-not-found")},q),v.createElement("div",{className:ne(a?"".concat(t,"-body ").concat(t,"-body-with-search"):"".concat(t,"-body"))},i,j)},[a,t,r,D,c,o,x,K,q]),U=v.createElement(je,{disabled:l.length===0||c,checked:J==="all",indeterminate:J==="part",className:"".concat(t,"-checkbox"),onChange:()=>{C==null||C(x.filter(i=>!i.disabled).map(i=>{let{key:h}=i;return h}),J!=="all")}}),Q=(i,h)=>{if(A)return typeof A=="function"?A({selectedCount:i,totalCount:h}):A;const S=h>1?X:z;return v.createElement(v.Fragment,null,(i>0?"".concat(i,"/"):"")+h," ",S)},Z=p&&(p.length<2?p(e):p(e,{direction:N})),fe=ne(t,{["".concat(t,"-with-pagination")]:!!E,["".concat(t,"-with-footer")]:!!Z}),pe=Z?v.createElement("div",{className:"".concat(t,"-footer")},Z):null,oe=!H&&!E&&U;let ee;H?ee=[E?{key:"removeCurrent",label:w,onClick(){var i;const h=te((((i=O.current)===null||i===void 0?void 0:i.items)||[]).map(S=>S.item));$==null||$(h)}}:null,{key:"removeAll",label:y,onClick(){$==null||$(te(x))}}].filter(Boolean):ee=[{key:"selectAll",label:f,onClick(){const i=te(x);C==null||C(i,i.length!==o.length)}},E?{key:"selectCurrent",label:b,onClick(){var i;const h=((i=O.current)===null||i===void 0?void 0:i.items)||[];C==null||C(te(h.map(S=>S.item)),!0)}}:null,{key:"selectInvert",label:k,onClick(){var i;const h=te(E?(((i=O.current)===null||i===void 0?void 0:i.items)||[]).map(Y=>Y.item):x),S=new Set(o),j=[];h.forEach(Y=>{S.has(Y)||j.push(Y)}),C==null||C(j,"replace")}}];const ve=v.createElement(at,{className:"".concat(t,"-header-dropdown"),menu:{items:ee},disabled:c},Ot(M)?M:v.createElement(rt,null));return v.createElement("div",{className:fe,style:m},v.createElement("div",{className:"".concat(t,"-header")},G?v.createElement(v.Fragment,null,oe,ve):null,v.createElement("span",{className:"".concat(t,"-header-selected")},Q(o.length,x.length)),v.createElement("span",{className:"".concat(t,"-header-title")},n)),ge,pe)},Ce=Rt,Kt=e=>{const{disabled:t,moveToLeft:l,moveToRight:n,leftArrowText:o="",rightArrowText:c="",leftActive:a,rightActive:m,className:r,style:u,direction:f,oneWay:b}=e;return s.createElement("div",{className:r,style:u},s.createElement(xe,{type:"primary",size:"small",disabled:t||!m,onClick:n,icon:f!=="rtl"?s.createElement(Ie,null):s.createElement(ke,null)},c),!b&&s.createElement(xe,{type:"primary",size:"small",disabled:t||!a,onClick:l,icon:f!=="rtl"?s.createElement(ke,null):s.createElement(Ie,null)},o))},Ne=Kt,jt=e=>{const{antCls:t,componentCls:l,listHeight:n,controlHeightLG:o,marginXXS:c,margin:a}=e,m="".concat(t,"-table"),r="".concat(t,"-input");return{["".concat(l,"-customize-list")]:{["".concat(l,"-list")]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:n},["".concat(m,"-wrapper")]:{["".concat(m,"-small")]:{border:0,borderRadius:0,["".concat(m,"-selection-column")]:{width:o,minWidth:o}},["".concat(m,"-pagination").concat(m,"-pagination")]:{margin:"".concat(a,"px 0 ").concat(c,"px")}},["".concat(r,"[disabled]")]:{backgroundColor:"transparent"}}}},Oe=(e,t)=>{const{componentCls:l,colorBorder:n}=e;return{["".concat(l,"-list")]:{borderColor:t,"&-search:not([disabled])":{borderColor:n}}}},Ht=e=>{const{componentCls:t}=e;return{["".concat(t,"-status-error")]:Object.assign({},Oe(e,e.colorError)),["".concat(t,"-status-warning")]:Object.assign({},Oe(e,e.colorWarning))}},Nt=e=>{const{componentCls:t,colorBorder:l,colorSplit:n,lineWidth:o,itemHeight:c,headerHeight:a,transferHeaderVerticalPadding:m,itemPaddingBlock:r,controlItemBgActive:u,colorTextDisabled:f,listHeight:b,listWidth:k,listWidthLG:y,fontSizeIcon:w,marginXS:G,paddingSM:H,lineType:E,antCls:N,iconCls:X,motionDurationSlow:z,controlItemBgHover:A,borderRadiusLG:M,colorBgContainer:p,colorText:T,controlItemBgActiveHover:C}=e;return{display:"flex",flexDirection:"column",width:k,height:b,border:"".concat(o,"px ").concat(E," ").concat(l),borderRadius:e.borderRadiusLG,"&-with-pagination":{width:y,height:"auto"},"&-search":{["".concat(X,"-search")]:{color:f}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:a,padding:"".concat(m-o,"px ").concat(H,"px ").concat(m,"px"),color:T,background:p,borderBottom:"".concat(o,"px ").concat(E," ").concat(n),borderRadius:"".concat(M,"px ").concat(M,"px 0 0"),"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Te),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},ut()),{fontSize:w,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:H}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none","&-item":{display:"flex",alignItems:"center",minHeight:c,padding:"".concat(r,"px ").concat(H,"px"),transition:"all ".concat(z),"> *:not(:last-child)":{marginInlineEnd:G},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Te),{flex:"auto"}),"&-remove":{position:"relative",color:l,cursor:"pointer",transition:"all ".concat(z),"&:hover":{color:e.colorLinkHover},"&::after":{position:"absolute",inset:"-".concat(r,"px -50%"),content:'""'}},["&:not(".concat(t,"-list-content-item-disabled)")]:{"&:hover":{backgroundColor:A,cursor:"pointer"},["&".concat(t,"-list-content-item-checked:hover")]:{backgroundColor:C}},"&-checked":{backgroundColor:u},"&-disabled":{color:f,cursor:"not-allowed"}},["&-show-remove ".concat(t,"-list-content-item:not(").concat(t,"-list-content-item-disabled):hover")]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:"".concat(e.paddingXS,"px 0"),textAlign:"end",borderTop:"".concat(o,"px ").concat(E," ").concat(n),["".concat(N,"-pagination-options")]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:f,textAlign:"center"},"&-footer":{borderTop:"".concat(o,"px ").concat(E," ").concat(n)},"&-checkbox":{lineHeight:1}}},zt=e=>{const{antCls:t,iconCls:l,componentCls:n,headerHeight:o,marginXS:c,marginXXS:a,fontSizeIcon:m,fontSize:r,lineHeight:u,colorBgContainerDisabled:f}=e;return{[n]:Object.assign(Object.assign({},mt(e)),{position:"relative",display:"flex",alignItems:"stretch",["".concat(n,"-disabled")]:{["".concat(n,"-list")]:{background:f}},["".concat(n,"-list")]:Nt(e),["".concat(n,"-operation")]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:"0 ".concat(c,"px"),verticalAlign:"middle",["".concat(t,"-btn")]:{display:"block","&:first-child":{marginBottom:a},[l]:{fontSize:m}}},["".concat(t,"-empty-image")]:{maxHeight:o/2-Math.round(r*u)}})}},Mt=e=>{const{componentCls:t}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"}}},Dt=ct("Transfer",e=>{const{fontSize:t,lineHeight:l,lineWidth:n,controlHeightLG:o}=e,c=Math.round(t*l),a=dt(e,{transferHeaderVerticalPadding:Math.ceil((o-n-c)/2)});return[zt(a),jt(a),Ht(a),Mt(a)]},e=>{const{fontSize:t,lineHeight:l,controlHeight:n,controlHeightLG:o}=e,c=Math.round(t*l);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:o,itemHeight:n,itemPaddingBlock:(n-c)/2}}),ce=e=>{const{dataSource:t,targetKeys:l=[],selectedKeys:n,selectAllLabels:o=[],operations:c=[],style:a={},listStyle:m={},locale:r={},titles:u,disabled:f,showSearch:b=!1,operationStyle:k,showSelectAll:y,oneWay:w,pagination:G,status:H,prefixCls:E,className:N,rootClassName:X,selectionsIcon:z,filterOption:A,render:M,footer:p,children:T,rowKey:C,onScroll:$,onChange:W,onSearch:I,onSelectChange:F}=e,{getPrefixCls:de,renderEmpty:D,direction:_,transfer:O}=s.useContext(ht),R=de("transfer",E),[me,ue]=Dt(R),[he,le,q]=yt(t,C,l),[x,K,J,ge]=xt(le,q,n),U=s.useCallback((d,g)=>{if(d==="left"){const P=typeof g=="function"?g(x||[]):g;J(P)}else{const P=typeof g=="function"?g(K||[]):g;ge(P)}},[x,K]),Q=s.useCallback((d,g)=>{d==="left"?F==null||F(g,K):F==null||F(x,g)},[x,K]),Z=d=>{var g;return(g=u!=null?u:d.titles)!==null&&g!==void 0?g:[]},fe=d=>{$==null||$("left",d)},pe=d=>{$==null||$("right",d)},oe=d=>{const g=d==="right"?x:K,P=bt(he),L=g.filter(Se=>!P.has(Se)),B=ie(L),ye=d==="right"?L.concat(l):l.filter(Se=>!B.has(Se)),se=d==="right"?"left":"right";U(se,[]),Q(se,[]),W==null||W(ye,d,L)},ee=()=>{oe("left")},ve=()=>{oe("right")},i=(d,g,P)=>{U(d,L=>{let B=[];if(P==="replace")B=g;else if(P)B=Array.from(new Set([].concat(ae(L),ae(g))));else{const ye=ie(g);B=L.filter(se=>!ye.has(se))}return Q(d,B),B})},h=(d,g)=>{i("left",d,g)},S=(d,g)=>{i("right",d,g)},j=d=>I==null?void 0:I("left",d.target.value),Y=d=>I==null?void 0:I("right",d.target.value),ze=()=>I==null?void 0:I("left",""),Me=()=>I==null?void 0:I("right",""),$e=(d,g,P)=>{const L=ae(d==="left"?x:K),B=L.indexOf(g);B>-1&&L.splice(B,1),P&&L.push(g),Q(d,L),e.selectedKeys||U(d,L)},De=(d,g)=>{$e("left",d,g)},Pe=(d,g)=>{$e("right",d,g)},Be=d=>{U("right",[]),W==null||W(l.filter(g=>!d.includes(g)),"left",ae(d))},we=d=>typeof m=="function"?m({direction:d}):m||{},Fe=s.useContext(gt),{hasFeedback:We,status:Ge}=Fe,Xe=d=>Object.assign(Object.assign(Object.assign({},d),{notFoundContent:(D==null?void 0:D("Transfer"))||v.createElement(pt,{componentName:"Transfer"})}),r),_e=vt(Ge,H),Ee=!T&&G,Ue=K.length>0,Ye=x.length>0,Ve=ne(R,{["".concat(R,"-disabled")]:f,["".concat(R,"-customize-list")]:!!T,["".concat(R,"-rtl")]:_==="rtl"},ft(R,_e,We),O==null?void 0:O.className,N,X,ue),[qe]=Re("Transfer",Ke.Transfer),be=Xe(qe),[Je,Qe]=Z(be);return me(v.createElement("div",{className:Ve,style:Object.assign(Object.assign({},O==null?void 0:O.style),a)},v.createElement(Ce,Object.assign({prefixCls:"".concat(R,"-list"),titleText:Je,dataSource:le,filterOption:A,style:we("left"),checkedKeys:x,handleFilter:j,handleClear:ze,onItemSelect:De,onItemSelectAll:h,render:M,showSearch:b,renderList:T,footer:p,onScroll:fe,disabled:f,direction:_==="rtl"?"right":"left",showSelectAll:y,selectAllLabel:o[0],pagination:Ee,selectionsIcon:z},be)),v.createElement(Ne,{className:"".concat(R,"-operation"),rightActive:Ye,rightArrowText:c[0],moveToRight:ve,leftActive:Ue,leftArrowText:c[1],moveToLeft:ee,style:k,disabled:f,direction:_,oneWay:w}),v.createElement(Ce,Object.assign({prefixCls:"".concat(R,"-list"),titleText:Qe,dataSource:q,filterOption:A,style:we("right"),checkedKeys:K,handleFilter:Y,handleClear:Me,onItemSelect:Pe,onItemSelectAll:S,onItemRemove:Be,render:M,showSearch:b,renderList:T,footer:p,onScroll:pe,disabled:f,direction:_==="rtl"?"left":"right",showSelectAll:y,selectAllLabel:o[1],showRemove:w,pagination:Ee,selectionsIcon:z},be))))};ce.List=Ce;ce.Search=He;ce.Operation=Ne;const Pt=ce,Ft=e=>{let t=Le(r=>r.counter.isshow1),l=Le(r=>r.counter.isshow2);const[n,o]=s.useState([]),c=()=>{var u,f;const r=[];(u=e.mockData)==null||u.map(b=>{b.key=b.symbol}),(f=e.mockData2)==null||f.map(b=>{r.push(b)}),o(r)};s.useEffect(()=>{c()},[e.mockData]);const a=r=>{o(r)},m=(r,u)=>u.symbol.indexOf(r==null?void 0:r.toUpperCase())>-1;return re.jsxs("div",{style:{border:"1px solid #EAEAEA",padding:20,paddingTop:0,marginLeft:e.ml},children:[re.jsxs("div",{style:{padding:"10px 0px",display:"flex",justifyContent:"space-between"},children:[e.title,re.jsx(xe,{size:"small",onClick:()=>e.update(n),children:"提交"})]}),re.jsx(Pt,{dataSource:e.mockData,showSearch:!0,filterOption:m,rowKey:r=>r.symbol,listStyle:{width:t?"calc(25vw - 70px)":"calc(25vw - 55px)",height:l?"calc(100vh - 284px)":"calc(100vh - 224px)"},targetKeys:n,onChange:a,render:r=>r.symbol})]})};export{Ft as default};
